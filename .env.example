# =============================================================================
# EXPORTADOR DE CHATS PRIVADOS DO TEAMS - CONFIGURA√á√ïES
# =============================================================================
# 
# INSTRU√á√ïES:
# 1. Copie este arquivo para .env: cp .env.example .env
# 2. Preencha os valores obrigat√≥rios (CLIENT_ID e TENANT_ID)
# 3. Ajuste as configura√ß√µes opcionais conforme necess√°rio
#
# ‚ö†Ô∏è  NUNCA commite o arquivo .env para o git!
# =============================================================================

# -----------------------------------------------------------------------------
# üîê AUTENTICA√á√ÉO MICROSOFT (OBRIGAT√ìRIO)
# -----------------------------------------------------------------------------
# Obtenha estes valores no Azure Portal > App registrations > Sua aplica√ß√£o

# ID da aplica√ß√£o registrada no Azure AD
CLIENT_ID=your_application_client_id_here

# ID do tenant/diret√≥rio do Azure AD  
TENANT_ID=your_directory_tenant_id_here

# -----------------------------------------------------------------------------
# üéØ MODO DE EXECU√á√ÉO
# -----------------------------------------------------------------------------

# MODE: Define quantas conversas processar
#   - 'test': Processa apenas a PRIMEIRA conversa (ideal para testes)
#   - 'prod':  Processa TODAS as conversas encontradas
MODE=test

# -----------------------------------------------------------------------------
# üìÅ CONFIGURA√á√ïES DE SA√çDA
# -----------------------------------------------------------------------------

# OUTPUT_DIR: Diret√≥rio onde os arquivos ser√£o salvos
OUTPUT_DIR=./exports

# EXPORT_FORMAT: Formato de exporta√ß√£o das mensagens (sempre gera JSON + Excel)
EXPORT_FORMAT=json

# -----------------------------------------------------------------------------
# üìé CONFIGURA√á√ïES DE ANEXOS (NOVIDADE!)
# -----------------------------------------------------------------------------

# EXPORT_ATTACHMENTS: Habilitar/desabilitar processamento de anexos
#   - 'true':  Processar anexos (recomendado)
#   - 'false': Ignorar anexos completamente
EXPORT_ATTACHMENTS=true

# EXPORT_ATTACHMENTS_MODE: Como processar os anexos
#   - 'csv':      Criar CSV com links para download MANUAL (RECOMENDADO)
#                 ‚úÖ Sem falhas de download
#                 ‚úÖ Todos os anexos catalogados  
#                 ‚úÖ Download controlado pelo usu√°rio
#                 ‚úÖ Mais r√°pido
#                 
#   - 'download': Download AUTOM√ÅTICO dos anexos
#                 ‚ö†Ô∏è  Pode ter falhas (rate limits, permiss√µes, etc.)
#                 ‚ö†Ô∏è  Mais lento
#                 ‚úÖ Arquivos baixados automaticamente
EXPORT_ATTACHMENTS_MODE=csv

# -----------------------------------------------------------------------------
# ‚öôÔ∏è CONFIGURA√á√ïES AVAN√áADAS
# -----------------------------------------------------------------------------

# MAX_MESSAGES_PER_REQUEST: Limite de mensagens por requisi√ß√£o (m√°ximo 50)
MAX_MESSAGES_PER_REQUEST=50

# =============================================================================
# üìä RESULTADO DOS MODOS DE ANEXOS
# =============================================================================
#
# üîπ MODO CSV (EXPORT_ATTACHMENTS_MODE=csv):
#   Arquivos gerados:
#   ‚îú‚îÄ‚îÄ private_chats_prod_YYYYMMDD_HHMMSS.json
#   ‚îú‚îÄ‚îÄ private_chats_prod_YYYYMMDD_HHMMSS.xlsx  
#   ‚îî‚îÄ‚îÄ attachments_prod_YYYYMMDD_HHMMSS.csv  ‚Üê NOVIDADE!
#
#   O CSV cont√©m:
#   - tipo: attachment, hosted_image, url_file
#   - chat_display: Nome da conversa
#   - attachment_name: Nome do arquivo
#   - content_url: Link para download manual
#   - message_date: Data da mensagem
#   - from_user: Quem enviou
#   - observacoes: Informa√ß√µes extras
#
# üîπ MODO DOWNLOAD (EXPORT_ATTACHMENTS_MODE=download):
#   Arquivos gerados:
#   ‚îú‚îÄ‚îÄ private_chats_prod_YYYYMMDD_HHMMSS.json
#   ‚îú‚îÄ‚îÄ private_chats_prod_YYYYMMDD_HHMMSS.xlsx
#   ‚îî‚îÄ‚îÄ attachments/
#       ‚îú‚îÄ‚îÄ chat_nome1/
#       ‚îÇ   ‚îú‚îÄ‚îÄ arquivo1.pdf
#       ‚îÇ   ‚îî‚îÄ‚îÄ imagem1.jpg
#       ‚îî‚îÄ‚îÄ chat_nome2/
#           ‚îî‚îÄ‚îÄ arquivo2.docx
#
# =============================================================================
# üöÄ CONFIGURA√á√ïES RECOMENDADAS
# =============================================================================
# 
# Para primeira execu√ß√£o (teste):
# MODE=test
# EXPORT_ATTACHMENTS_MODE=csv
#
# Para uso em produ√ß√£o:
# MODE=prod  
# EXPORT_ATTACHMENTS_MODE=csv
#
# Para download autom√°tico (s√≥ se precisar dos arquivos locais):
# MODE=prod
# EXPORT_ATTACHMENTS_MODE=download
#
# =============================================================================